# Me.yaml Environment Configuration
# Copy to .env and configure

# ============================================
# REQUIRED
# ============================================

# Encryption key for API tokens (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=

# ============================================
# NETWORK
# ============================================

# Port to expose (single port for everything)
PORT=8080

# Your public URL (used for OAuth callbacks and link generation)
# - Direct access: http://localhost:8080
# - Behind reverse proxy: https://meyaml.yourdomain.com
APP_URL=http://localhost:8080

# Enable if behind reverse proxy (Cloudflare Tunnel, nginx, Traefik, etc.)
# This tells the backend to trust X-Forwarded-* headers
TRUST_PROXY=false

# ============================================
# SECURITY
# ============================================

# Comma-separated list of emails allowed to log in as admin
# Leave empty to allow any authenticated user
ADMIN_EMAILS=

# Enable PocketBase admin UI at /_/ (default: disabled for security)
ADMIN_ENABLED=false

# ============================================
# DATA
# ============================================

# Where to store database and uploads
DATA_PATH=./data

# ============================================
# EXAMPLE CONFIGURATIONS
# ============================================

# --- Direct Access (no reverse proxy) ---
# PORT=8080
# APP_URL=http://localhost:8080
# TRUST_PROXY=false

# --- Cloudflare Tunnel ---
# PORT=8080
# APP_URL=https://meyaml.yourdomain.com
# TRUST_PROXY=true
# Point tunnel to: http://container-ip:8080

# --- Nginx Proxy Manager ---
# PORT=8080
# APP_URL=https://meyaml.yourdomain.com
# TRUST_PROXY=true
# Forward to: http://container-ip:8080

# --- Unraid + Cloudflare Tunnel ---
# PORT=8080
# DATA_PATH=/mnt/user/appdata/me-yaml
# APP_URL=https://meyaml.yourdomain.com
# TRUST_PROXY=true
# ADMIN_EMAILS=you@gmail.com

# --- Traefik ---
# PORT=8080
# APP_URL=https://meyaml.yourdomain.com
# TRUST_PROXY=true
# Add labels in docker-compose.yml for routing
