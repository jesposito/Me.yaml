# Facet Environment Configuration
# Copy to .env and configure

# ============================================
# REQUIRED
# ============================================

# Encryption key for API tokens (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=

# ============================================
# AI PROVIDERS (Optional - enables AI content improvement)
# ============================================
# Set one of these to enable AI-powered content generation/improvement.
# If set, the provider will be auto-configured on startup.

# Anthropic Claude (recommended)
# ANTHROPIC_API_KEY=sk-ant-...

# OpenAI
# OPENAI_API_KEY=sk-...

# Ollama (local, no API key needed)
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL=llama3.2

# ============================================
# AUTH (Optional - enables OAuth login)
# ============================================
# Configure OAuth providers without opening the PocketBase UI.
# Redirect URIs should point to: <APP_URL>/api/oauth2-redirect
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Frontend â†” PocketBase (set when running frontend on a different host/port)
# VITE_POCKETBASE_URL=http://localhost:8090

# ============================================
# NETWORK
# ============================================

# Port to expose (single port for everything)
PORT=8080

# Your public URL (used for OAuth callbacks and link generation)
# - Direct access: http://localhost:8080
# - Behind reverse proxy: https://facet.yourdomain.com
APP_URL=http://localhost:8080

# Enable if behind reverse proxy (Cloudflare Tunnel, nginx, Traefik, etc.)
# This tells the backend to trust X-Forwarded-* headers
TRUST_PROXY=false

# ============================================
# SECURITY
# ============================================

# Comma-separated list of emails allowed to log in as admin
# Leave empty to allow any authenticated user
ADMIN_EMAILS=

# Enable PocketBase admin UI at /_/ (default: disabled for security)
ADMIN_ENABLED=false

# ============================================
# DATA
# ============================================

# Where to store database and uploads
DATA_PATH=./data

# Seed data for development
# - "dev": Full development profile (Jedidiah Esposito with experience/projects)
# - "minimal" or unset: Default admin account only (admin@example.com / changeme123)
#
# Production default (unset or minimal): Creates admin@example.com account
# This ensures first-time users can log in and set up their profile
# SEED_DATA=dev

# ============================================
# EXAMPLE CONFIGURATIONS
# ============================================

# --- Direct Access (no reverse proxy) ---
# PORT=8080
# APP_URL=http://localhost:8080
# TRUST_PROXY=false

# --- Cloudflare Tunnel ---
# PORT=8080
# APP_URL=https://facet.yourdomain.com
# TRUST_PROXY=true
# Point tunnel to: http://container-ip:8080

# --- Nginx Proxy Manager ---
# PORT=8080
# APP_URL=https://facet.yourdomain.com
# TRUST_PROXY=true
# Forward to: http://container-ip:8080

# --- Traefik ---
# PORT=8080
# APP_URL=https://facet.yourdomain.com
# TRUST_PROXY=true
# Add labels in docker-compose.yml for routing

# ============================================
# UNRAID CONFIGURATIONS
# ============================================

# --- Unraid: Local Network Access Only ---
# Use this if you only want to access Facet from your home network
# PORT=8080
# DATA_PATH=/mnt/user/appdata/facet
# APP_URL=http://tower.local:8080
# TRUST_PROXY=false
# ADMIN_EMAILS=your@email.com

# --- Unraid: With Cloudflare Tunnel (Recommended) ---
# For secure remote access without opening ports
# 1. Set up Cloudflare Tunnel pointing to http://172.17.0.x:8080
# 2. Use these settings:
# PORT=8080
# DATA_PATH=/mnt/user/appdata/facet
# APP_URL=https://facet.yourdomain.com
# TRUST_PROXY=true
# ADMIN_EMAILS=your@email.com
# GOOGLE_CLIENT_ID=your-google-client-id (optional)
# GOOGLE_CLIENT_SECRET=your-google-secret (optional)

# --- Unraid: With SWAG/Nginx Proxy Manager ---
# If using SWAG or Nginx Proxy Manager for reverse proxy
# PORT=8080
# DATA_PATH=/mnt/user/appdata/facet
# APP_URL=https://facet.yourdomain.com
# TRUST_PROXY=true
# ADMIN_EMAILS=your@email.com

# --- Unraid: Backup Configuration ---
# IMPORTANT: Your data is stored in DATA_PATH. Back it up regularly!
# Use Unraid's Community Applications "CA Backup / Restore Appdata" plugin
# Or manually back up /mnt/user/appdata/facet to a safe location
